/*! For license information please see main.28b2e7d269020b65bede.bundle.js.LICENSE.txt */
(()=>{var e,t={807:(e,t,s)=>{"use strict";s(260);class i extends Phaser.GameObjects.Container{constructor(e,t,s,i){super(e),this.increaseScore=()=>{this.scoreValue+=1,this.printScore()},this.scoreValue=0,this.fontSize=t,this.x_coor=s,this.y_coor=i,this.setDepth(5),this.printScore()}printScore(){this.getAll().forEach((e=>{e.destroy()}));let e=0;this.scoreValue.toString().split("").forEach((t=>{let s=this.scene.add.image(e,0,"sprite",`digit/digit-${this.fontSize}-${t}`);this.add(s),e+=s.width})),e*=this.scale,(36==this.fontSize||20==this.fontSize)&&this.setX(this.x_coor-e/2).setY(this.y_coor)}getScore(){return this.scoreValue}setScore(e){this.scoreValue=e,this.printScore()}}const a=i;class h extends Phaser.Scene{constructor(){super({key:"GameOverScene"})}create(e){this.gameOver=this.add.image(this.cameras.main.width/2,160,"sprite","message/message-game-over"),this.board=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"sprite","message/board"),this.newHighScore=this.add.image(this.cameras.main.width/2+35,this.cameras.main.height/2+8,"sprite","message/message-new").setVisible(!1),this.score=new a(this,20,this.cameras.main.width-65,this.cameras.main.height/2-15),this.highScore=new a(this,20,this.cameras.main.width-65,this.cameras.main.height/2+27),this.score.setScore(e.playerScore),e.playerScore>this.highScore.getScore()?(this.highScore.setScore(e.playerScore),this.saveHighScore(this.highScore.getScore()),this.newHighScore.setVisible(!0)):this.highScore.setScore(this.getHighScore()),this.add.existing(this.score),this.add.existing(this.highScore),this.playButton=this.add.image(this.cameras.main.width/2,370,"sprite","button/button-playgame").setDepth(5).setInteractive().on("pointerdown",(e=>{this.scene.start("PlayScene")})),this.keys=this.input.keyboard.addKey("Enter"),this.keys.on("down",(()=>{this.scene.start("PlayScene")}))}saveHighScore(e){localStorage.setItem("highScore",e.toString())}getHighScore(){return Number(localStorage.getItem("highScore"))}}const r=h;class o extends Phaser.Scene{constructor(){super({key:"LoadingScene"})}preload(){this.cameras.main.setBackgroundColor(10016391),this.createLoadingBar(),this.load.on("progress",(e=>{this.progressBar.clear(),this.progressBar.fillStyle(16774867,1),this.progressBar.fillRect(this.cameras.main.width/4,this.cameras.main.height/2-16,this.cameras.main.width/2*e,16)}),this),this.load.on("complete",(()=>{this.progressBar.destroy(),this.loadingBar.destroy()}),this)}create(){this.scene.start("PlayScene")}createLoadingBar(){this.loadingBar=this.add.graphics(),this.loadingBar.fillStyle(6139463,1),this.loadingBar.fillRect(this.cameras.main.width/4-2,this.cameras.main.height/2-18,this.cameras.main.width/2+4,20),this.progressBar=this.add.graphics()}}const n=o;class d extends Phaser.Scene{constructor(){super({key:"PauseScene"})}create(){this.resumeButton=this.add.image(30,30,"sprite","button/button-play").setDepth(5).setVisible(!0),this.input.keyboard.on("keydown-SPACE",(()=>{this.scene.resume("PlayScene"),this.resumeButton.setVisible(!1)}),this),this.input.once("pointerdown",(()=>{this.scene.resume("PlayScene"),this.resumeButton.setVisible(!1)}),this)}}const c=d,l="background",p="hit",m="score",g="flap";class u extends Phaser.GameObjects.Sprite{constructor(e,t,s){super(e,t,s,"sprite","ground"),this.x=t,this.y=s,e.physics.world.enable(this),e.add.existing(this),this.body.setGravityY(0).setVelocityX(-80),this.body.immovable=!0,this.setDepth(3).play("ground")}update(){this.x<120&&this.setX(168)}pause(){this.body.setVelocityX(0)}}const y=u;class b extends Phaser.GameObjects.TileSprite{constructor(e,t,s){super(e,t,s,288,512,l),this.x=t,this.y=s,this.setDepth(1),e.add.existing(this)}}const S=b;class w extends Phaser.GameObjects.Sprite{constructor(e,t,s){super(e,0,0,""),this.idle=!0,this.isDeath=!1,this.freeFalling=!1,this.hitPipe=!1,this.setPosition(t,s),this.anims.create({key:"chill_flapping",frames:this.anims.generateFrameNames("sprite",{prefix:"bird/yellow-bird-",end:2}),frameRate:8,repeat:-1}),this.chilling=e.tweens.add({targets:this,y:{from:this.y+3,to:this.y-3},duration:360,paused:!1,yoyo:!0,repeat:-1}),e.physics.world.enable(this),e.add.existing(this),this.body.setMaxVelocityY(500),this.setDepth(2).play("chill_flapping"),this.flapSound=this.scene.sound.add(g)}setPlay(){this.chilling.stop(),this.anims.remove("chill_flapping"),this.anims.create({key:"rapid_flapping",frames:this.anims.generateFrameNames("sprite",{prefix:"bird/yellow-bird-",end:2}),frameRate:16,repeat:-1}),this.play("rapid_flapping"),this.jump()}jump(){this.flapSound.play(),this.body.setVelocityY(-350).setGravityY(1200),this.freeFalling&&this.anims.resume(),this.scene.tweens.add({targets:this,props:{angle:-20},duration:150,ease:"Power0"})}preUpdate(e,t){super.preUpdate(e,t),!this.idle&&this.body.velocity.y>=380&&(this.angle>=-20&&this.angle<90&&(this.angle+=5),"bird/yellow-bird-1"==this.anims.currentFrame.textureFrame&&this.anims.pause(),this.freeFalling=!0)}}const f=w;class v extends Phaser.GameObjects.Sprite{constructor(e){super(e,0,0,"sprite","pipe/green-pipe-up"),this.setOrigin(0,0).setPosition(0,10),e.physics.world.enable(this),this.body.setSize(this.width,this.height),e.add.existing(this)}}class P extends Phaser.GameObjects.Sprite{constructor(e){super(e,0,0,"sprite","pipe/green-pipe-down"),this.setOrigin(0,0).setPosition(0,-420),e.physics.world.enable(this),this.body.setSize(this.width,this.height),e.add.existing(this)}}class k extends Phaser.GameObjects.Container{constructor(e){super(e),e.add.existing(this);let t=new v(e),s=new P(e);this.add(t).add(s).setPosition(e.cameras.main.width+80,Phaser.Math.Between(200,360)).setDepth(1),this.move()}move(){let e=(this.x+80)/80*1e3;this.scene.tweens.add({targets:this,x:-80,duration:e,loop:0,onComplete:()=>{this.destroy()}})}}const x=k;class B extends Phaser.Scene{constructor(){super({key:"PlayScene"}),this.playGame=()=>{this.bird.idle=!1,this.bird.setPlay(),this.add.existing(this.score),this.title.setVisible(!1),this.getReady.setVisible(!0),this.playButton.setVisible(!1),this.pauseButton.setVisible(!0),this.input.mouse.disableContextMenu(),this.input.on("pointerdown",(e=>{this.bird.jump()})),this.timerPipe=this.time.addEvent({delay:2e3,callback:this.addPipe,callbackScope:this,loop:!0}),this.time.addEvent({delay:3500,callback:this.increaseScoreByTime,callbackScope:this,loop:!1}),this.time.addEvent({delay:2e3,callback:()=>{this.getReady.setVisible(!1)},callbackScope:this,loop:!1})},this.increaseScoreByTime=()=>{this.timerScore=this.time.addEvent({delay:2e3,callback:()=>{this.scoreSound.play(),this.score.increaseScore()},callbackScope:this,loop:!0})},this.hitGround=()=>{this.physics.pause(),this.bird.hitPipe||this.setEndGame(),this.scene.launch("GameOverScene",{playerScore:this.score.getScore()})},this.hitPipe=(e,t)=>{console.log("hit pipe"),this.ground.pause(),this.setEndGame(),this.bird.hitPipe=!0},this.addPipe=()=>{let e=new x(this).getAll(),t=this.physics.add.collider(this.bird,e,((e,s)=>{this.physics.world.removeCollider(t),this.physics.world.disable(s),this.bird.hitPipe||this.hitPipe(e,s)}));this.time.addEvent({delay:5e3,callback:()=>{this.physics.world.removeCollider(t)},callbackScope:this,loop:!1})}}preload(){this.load.image(l,"assets/img/bg_day.png"),this.load.atlas("sprite","assets/img/flappy-bird-sprite.png","assets/img/flappy-bird-sprite.json"),this.load.audio(g,"assets/sound/audios_flappy.mp3"),this.load.audio(p,"assets/sound/audios_collision.mp3"),this.load.audio(m,"assets/sound/audios_score.mp3")}create(){this.background=new S(this,this.cameras.main.width/2,this.cameras.main.height/2),this.ground=new y(this,this.cameras.main.width/2+24,456),this.bird=new f(this,this.cameras.main.width/3,this.cameras.main.height/2),this.score=new a(this,36,this.cameras.main.width/2,80),this.title=this.add.image(this.cameras.main.width/2,80,"sprite","message/message-flappy-bird").setDepth(5),this.getReady=this.add.image(this.cameras.main.width/2,160,"sprite","message/message-get-ready").setDepth(5).setVisible(!1),this.playButton=this.add.image(this.cameras.main.width/2,370,"sprite","button/button-playgame").setDepth(5).setInteractive().on("pointerdown",(e=>{this.playGame()})),this.pauseButton=this.add.image(30,30,"sprite","button/button-pause").setDepth(5).setVisible(!1).setInteractive().on("pointerdown",(e=>{this.scene.pause(),this.scene.launch("PauseScene")})),this.bird.body.setSize(this.bird.width,.9*this.bird.height),this.physics.add.collider(this.bird,this.ground,this.hitGround),this.hitSound=this.sound.add(p),this.scoreSound=this.sound.add(m),this.keys=this.input.keyboard.addKey("Space"),this.keys.on("down",(()=>{this.bird.isDeath||(this.bird.idle?this.playGame():this.bird.jump())}))}setEndGame(){this.hitSound.play(),this.bird.anims.pause(),this.bird.isDeath=!0,this.bird.setTint(16737095),this.score.setVisible(!1),this.pauseButton.setVisible(!1),this.getReady.setVisible(!1),this.time.removeAllEvents(),this.input.removeAllListeners(),this.tweens.getAllTweens().forEach((e=>{e.targets&&e.stop()}))}update(e,t){super.update(e,t),this.bird.isDeath||(this.background.tilePositionX+=.5,this.ground.update())}}const O=B,V={type:Phaser.AUTO,backgroundColor:"#000000",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:288,height:512},scene:[n,O,c,r],physics:{default:"arcade",arcade:{debug:!1}}};window.addEventListener("load",(()=>{new Phaser.Game(V)}))},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var h=s[e]={exports:{}};return t[e].call(h.exports,h,h.exports,i),h.exports}i.m=t,e=[],i.O=(t,s,a,h)=>{if(!s){var r=1/0;for(c=0;c<e.length;c++){for(var[s,a,h]=e[c],o=!0,n=0;n<s.length;n++)(!1&h||r>=h)&&Object.keys(i.O).every((e=>i.O[e](s[n])))?s.splice(n--,1):(o=!1,h<r&&(r=h));if(o){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}h=h||0;for(var c=e.length;c>0&&e[c-1][2]>h;c--)e[c]=e[c-1];e[c]=[s,a,h]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,h,[r,o,n]=s,d=0;if(r.some((t=>0!==e[t]))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(n)var c=n(i)}for(t&&t(s);d<r.length;d++)h=r[d],i.o(e,h)&&e[h]&&e[h][0](),e[h]=0;return i.O(c)},s=self.webpackChunkphaser_project_template=self.webpackChunkphaser_project_template||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),i.O(void 0,[216],(()=>i(807)));var a=i.O(void 0,[216],(()=>i(204)));a=i.O(a)})();